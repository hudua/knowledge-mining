@foreach (var aggregateFacet in Facets)
{
    <MudExpansionPanels Class="mt-6">
        <MudExpansionPanel Text="@aggregateFacet.Name.SplitCamelCase().ToTitleCase()">
            @foreach (var facet in aggregateFacet.Values.Take(10))
            {
                <MudCheckBox T="bool" Label="@($"{facet.Value} ({facet.Count})")" CheckedChanged="@(() => HandleCheckedChanged(facet))"></MudCheckBox>
            }
        </MudExpansionPanel>
    </MudExpansionPanels>
}

@code {
    [Parameter]
    public IEnumerable<AggregateFacet> Facets { get; set; }

    [Parameter]
    public EventCallback<Facet> OnFacetSelectedChanged { get; set; }

    private Task HandleCheckedChanged(Facet facet)
    {
        return OnFacetSelectedChanged.InvokeAsync(facet);
    }
}